# Тестовые задания от Braind

Задания выполнены на php 7.4, на редакции Битрикс "Бизнес". 


## Первое задание

### Создать собственный компонент
 
Входные данные: необходимо создать собственный компонент для отображения текущего курса валют. 
В настройках компонента должна быть возможность выбрать валюты из списка для отображения: USD, EUR. 
Курс валют брать с сайта ЦБ РФ —   https://www.cbr.ru/development/SXML/ 
Выборка должна кэшироваться, в настройках компонента должна быть возможность выключить кэширование и настроить время жизни кэша. 
Необходимо предусмотреть возможную недоступность сервиса ЦБ.

Решение задания расположено в `/local/components/lapkin/currency/`

Компонент можно добавить на любой странице сайта через визуальный редактор - `lapkin:currency`

При недоступности сервиса ЦБ, на сайте выводится сообщение об ошибке.


## Второе задание

### Особые условия для заказов самовывозом
 
При оформлении заказа и выборе доставки Самовывоз в письмо о новом заказе добавить информацию об адресе пункта самовывоза. 
Место для хранения адреса пункта самовывоза выберите самостоятельно. 
При изменении статуса заказа на «Выполнен» у пользователя, сделавшего заказ, должны очищаться все поля из раздела «Почтовый адрес» вкладки «Личные данные» формы редактирования в админ-панели.

Решение задания расположено в `/local/php_interface/init.php`

Адрес пункта самовывоза устанавливается в параметрах склада с меткой "Пункт выдачи".

Для проверки задания необходимо добавить в описание почтового события `SALE_NEW_ORDER` и в шаблон письма переменную: `#DELIVERY_DESCRIPTION#`

## Третье задание

### Организация вспомогательных функций

Необходимо реализовать класс-helper для описания в нем различных вспомогательных функций. 
Большим плюсом будет написание класса по стандарту PSR-4. 
Подключение организовать с помощью автозагрузчика Битрикс или c помощью composer на выбор. 
Класс должен содержать функцию склонения слов после числительных и функцию вывода переменных на экран, которая оборачивает вывод в тег. 
Должна быть возможность использования методов класса в любых скриптах с подключенным ядром Битрикс.

Решение задания расположено в `/local/php_interface/init.php`, `/local/php_interface/include/classes/lapkin/`

Подключение класса организованно с помощью автозагрузчика Битрикс и доступен везде, где подключен:
```php
<?php require_once($_SERVER['DOCUMENT_ROOT'] . "/bitrix/modules/main/include/prolog_before.php"); ?>
```

В функции обертки выбран тег `<pre>`.